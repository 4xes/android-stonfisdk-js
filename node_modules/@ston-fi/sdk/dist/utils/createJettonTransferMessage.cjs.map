{"version":3,"file":"createJettonTransferMessage.cjs","sources":["../../src/utils/createJettonTransferMessage.ts"],"sourcesContent":["import TonWeb from \"tonweb\";\n\nimport type { AddressType, QueryIdType, AmountType, Cell } from \"@/types\";\n\nconst {\n  utils: { BN },\n  boc: { Cell },\n  Address,\n} = TonWeb;\n\n/**\n * Implements `transfer` function from Jettons Standard.\n * [Docs](https://github.com/ton-blockchain/TEPs/blob/master/text/0074-jettons-standard.md#1-transfer)\n *\n * ```TL-B\n * transfer#0f8a7ea5 query_id:uint64 amount:(VarUInteger 16) destination:MsgAddress response_destination:MsgAddress custom_payload:(Maybe ^Cell) forward_ton_amount:(VarUInteger 16) forward_payload:(Either Cell ^Cell) = InternalMsgBody;\n * ```\n */\nexport function createJettonTransferMessage(params: {\n  queryId: QueryIdType;\n  amount: AmountType;\n  destination: AddressType;\n  responseDestination?: AddressType;\n  customPayload?: Cell;\n  forwardTonAmount: AmountType;\n  forwardPayload?: Cell;\n}) {\n  const message = new Cell();\n\n  message.bits.writeUint(0xf8a7ea5, 32);\n  message.bits.writeUint(params.queryId, 64);\n  message.bits.writeCoins(new BN(params.amount));\n  message.bits.writeAddress(new Address(params.destination));\n  message.bits.writeAddress(\n    params.responseDestination\n      ? new Address(params.responseDestination)\n      : undefined,\n  );\n\n  if (params.customPayload) {\n    message.refs.push(params.customPayload);\n    message.bits.writeBit(true);\n  } else {\n    message.bits.writeBit(false);\n  }\n\n  message.bits.writeCoins(new BN(params.forwardTonAmount));\n\n  if (params.forwardPayload) {\n    message.refs.push(params.forwardPayload);\n    message.bits.writeBit(true);\n  } else {\n    message.bits.writeBit(false);\n  }\n\n  return message;\n}\n"],"names":["BN","Cell","Address","TonWeb","createJettonTransferMessage","params","message"],"mappings":"0GAIM,CACJ,MAAO,CAAE,GAAAA,CAAG,EACZ,IAAK,CAAE,KAAAC,CAAK,EACZ,QAAAC,CACF,EAAIC,EAUG,SAASC,EAA4BC,EAQzC,CACK,MAAAC,EAAU,IAAIL,EAEZ,OAAAK,EAAA,KAAK,UAAU,UAAW,EAAE,EACpCA,EAAQ,KAAK,UAAUD,EAAO,QAAS,EAAE,EACzCC,EAAQ,KAAK,WAAW,IAAIN,EAAGK,EAAO,MAAM,CAAC,EAC7CC,EAAQ,KAAK,aAAa,IAAIJ,EAAQG,EAAO,WAAW,CAAC,EACzDC,EAAQ,KAAK,aACXD,EAAO,oBACH,IAAIH,EAAQG,EAAO,mBAAmB,EACtC,MAAA,EAGFA,EAAO,eACDC,EAAA,KAAK,KAAKD,EAAO,aAAa,EAC9BC,EAAA,KAAK,SAAS,EAAI,GAElBA,EAAA,KAAK,SAAS,EAAK,EAG7BA,EAAQ,KAAK,WAAW,IAAIN,EAAGK,EAAO,gBAAgB,CAAC,EAEnDA,EAAO,gBACDC,EAAA,KAAK,KAAKD,EAAO,cAAc,EAC/BC,EAAA,KAAK,SAAS,EAAI,GAElBA,EAAA,KAAK,SAAS,EAAK,EAGtBA,CACT"}